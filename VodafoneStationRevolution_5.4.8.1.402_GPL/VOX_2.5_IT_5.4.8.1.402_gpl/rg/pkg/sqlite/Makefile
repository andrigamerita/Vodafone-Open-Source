JMK_ROOT=../..
include $(JMK_ROOT)/envir.mak

JMK_WARN2ERR=n

FLAGS=-DSQLITE_THREADSAFE=0 \
  -DDSQLITE_OMIT_AUTHORIZATION \
  -DSQLITE_OMIT_AUTOINCREMENT -DSQLITE_OMIT_AUTOVACUUM \
  -DSQLITE_OMIT_BETWEEN_OPTIMIZATION -DSQLITE_OMIT_COMPLETE \
  -DSQLITE_OMIT_COMPOUND_SELECT -DSQLITE_OMIT_DATETIME_FUNCS \
  -DSQLITE_OMIT_DECLTYPE -DSQLITE_OMIT_EXPLAIN \
  -DSQLITE_OMIT_FLOATING_POINT -DSQLITE_OMIT_FOREIGN_KEY \
  -DSQLITE_OMIT_GET_TABLE -DSQLITE_OMIT_LIKE_OPTIMIZATION \
  -DSQLITE_OMIT_INCRBLOB -DSQLITE_OMIT_LOAD_EXTENSION \
  -DSQLITE_OMIT_LOCALTIME -DSQLITE_OMIT_MEMORYDB \
  -DSQLITE_OMIT_OR_OPTIMIZATION -DSQLITE_OMIT_PROGRESS_CALLBACK \
  -DSQLITE_OMIT_TCL_VARIABLE \
  -DSQLITE_OMIT_TEMPDB -DSQLITE_OMIT_TRACE \
  -DSQLITE_OMIT_TRUNCATE_OPTIMIZATION -DSQLITE_OMIT_UTF16 \
  -DSQLITE_ENABLE_MEMORY_MANAGEMENT -DSQLITE_ENABLE_MEMSYS5 \
  -DSQLITE_32BIT_ROWID


JMK_CFLAGS+=$(FLAGS)
JMK_LOCAL_CFLAGS+=$(FLAGS)

JMK_A_TARGET=libsqlite3.a
JMK_O_OBJS_libsqlite3.a=sqlite3.o
JMK_LOCAL_A_TARGET=liblocal_sqlite3.a
JMK_O_OBJS_$(JMK_LOCAL_A_TARGET)=$(JMK_O_OBJS_$(JMK_A_TARGET))
JMK_EXPORT_LIBS=$(JMK_A_TARGET) $(JMK_LOCAL_A_TARGET)

JMK_EXPORT_HEADERS_DIR=sqlite
JMK_EXPORT_HEADERS+=sqlite3.h

include $(JMKE_MK)

